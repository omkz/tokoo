<nav class="bg-white shadow-sm sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <!-- Logo -->
      <div class="flex-shrink-0">
        <%= link_to root_path, class: "flex items-center gap-2 hover:opacity-80 transition-opacity" do %>
          <div class="h-8 w-8 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center">
            <svg class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <span class="text-xl font-bold text-gray-900 hidden sm:inline">Tokoo</span>
        <% end %>
      </div>

      <!-- Desktop Menu -->
      <div class="hidden md:flex items-center gap-8">
        <%= link_to "Home", root_path, class: "text-gray-700 hover:text-blue-600 font-medium transition-colors" %>
        <%= link_to "Products", "#products", class: "text-gray-700 hover:text-blue-600 font-medium transition-colors" %>
        <%= link_to "About", "#about", class: "text-gray-700 hover:text-blue-600 font-medium transition-colors" %>
        <%= link_to "Contact", "#contact", class: "text-gray-700 hover:text-blue-600 font-medium transition-colors" %>
        <%= link_to "Admin", admin_dashboard_path, class: "text-blue-600 hover:text-blue-700 font-bold bg-blue-50 px-3 py-1 rounded-lg transition-colors" %>
      </div>

      <!-- Right Side: Auth -->
      <div class="flex items-center gap-4">
        <% if authenticated? %>
          <div class="hidden md:flex items-center gap-2">
            <div class="h-8 w-8 rounded-full bg-gradient-to-r from-blue-600 to-indigo-600 flex items-center justify-center text-white text-sm font-semibold">
              <%= current_user.email_address[0].upcase %>
            </div>
            <span class="text-sm text-gray-700"><%= current_user.email_address.split('@')[0] %></span>
          </div>

          <div class="relative group hidden md:block">
            <button class="text-gray-700 hover:text-blue-600 font-medium transition-colors flex items-center gap-1">
              Account
              <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
              </svg>
            </button>
            <!-- Dropdown -->
            <div class="hidden group-hover:block absolute right-0 mt-0 w-48 bg-white rounded-lg shadow-xl py-2 z-50">
              <%= link_to "Profile Settings", "#", class: "block px-4 py-2 text-gray-700 hover:bg-gray-100 text-sm" %>
              <%= link_to "Admin Dashboard", admin_dashboard_path, class: "block px-4 py-2 text-indigo-600 hover:bg-indigo-50 text-sm font-bold" %>
              <%= link_to "Security", "#", class: "block px-4 py-2 text-gray-700 hover:bg-gray-100 text-sm" %>
              <div class="border-t my-2"></div>
              <%= button_to "Sign Out", session_path, method: :delete, class: "w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 text-sm" %>
            </div>
          </div>
        <% else %>
          <%= link_to "Sign In", new_session_path, class: "hidden md:inline-block px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg font-medium transition-colors" %>
          <%= link_to "Sign Up", "#", class: "hidden md:inline-block px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors" %>
        <% end %>

        <!-- Mobile Menu Button -->
        <button class="md:hidden p-2 text-gray-700 hover:bg-gray-100 rounded-lg" data-action="click->mobile-menu#toggle">
          <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div class="hidden md:hidden pb-4 border-t" data-mobile-menu-target="menu">
      <div class="space-y-2 pt-4">
        <%= link_to "Home", root_path, class: "block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors" %>
        <%= link_to "Products", "#products", class: "block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors" %>
        <%= link_to "About", "#about", class: "block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors" %>
        <%= link_to "Contact", "#contact", class: "block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors" %>
        <%= link_to "Admin Dashboard", admin_dashboard_path, class: "block px-4 py-2 text-indigo-600 bg-indigo-50 font-bold rounded-lg transition-colors" %>

        <div class="border-t my-4 pt-4">
          <% if authenticated? %>
            <div class="px-4 py-2 mb-2">
              <p class="text-sm text-gray-700 font-medium"><%= current_user.email_address %></p>
              <p class="text-xs text-gray-500">Member since <%= current_user.created_at.strftime('%b %Y') %></p>
            </div>
            <%= link_to "Profile Settings", "#", class: "block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg text-sm transition-colors" %>
            <%= link_to "Security", "#", class: "block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg text-sm transition-colors" %>
            <%= button_to "Sign Out", session_path, method: :delete, class: "w-full mt-2 px-4 py-2 bg-red-50 text-red-600 hover:bg-red-100 rounded-lg font-medium text-sm transition-colors" %>
          <% else %>
            <%= link_to "Sign In", new_session_path, class: "block w-full text-center px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg font-medium transition-colors" %>
            <%= link_to "Sign Up", "#", class: "block w-full text-center mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</nav>
